[TOC]

# POO - Base



## 1. Introducci√≥n

La Regi√≥n de Murcia nos ha pedido hacer una aplicaci√≥n para gestionar los albergues de animales de la comunidad. Antes de nada, nos ponemos a recoger informaci√≥n de que elementos nos encontramos en los dichos albergues

| Elementos  | Propiedades                                                  | Acciones                           |
| ---------- | ------------------------------------------------------------ | ---------------------------------- |
| gatos      | color, raza, personalidad, collar,                           | ronronear, lamer, maullar, adoptar |
| edificios  | plantas, puertas, despachos, aparcamiento                    | trabajar, aparcar                  |
| gateras    | tama√±o, color paredes, rejillas, entradas, capacidad, interna/externa | introducir, sacar                  |
| veh√≠culos  | marca, capacidad, tipo, gasolina/diesel                      | introducir, sacar, conducir        |
| cuidadores | color ojos/pelo, estatura, peso, nombre, experiencia         | comer, beber, respirar, cuidar     |
| perreras   | tama√±o, color paredes, rejillas, entradas, capacidad, interna/externa | introducir, sacar                  |
| perros     | color, raza, personalidad, collar,                           | lamer, ladrar, jugar, adoptar      |
| medicinas  | uso, cantidad, prospecto, vacunas                            | curar, vacunar                     |

La POO permite representar en c√≥digo "elementos" con sus propiedades y acciones. Estos elementos los llamamos "objetos".

En la tabla anterior sacamos una serie de caracter√≠sticas del albergue, pero no todas son necesarias para el programa. Vamos a abstraer cuales son m√°s relevantes. De momento la diputaci√≥n de Murcia lo que quiere es gestionar las adopciones, por tanto quiere saber cuantos animales hay, la capacidad de los albergues y los cuidadores disponibles.

| Objeto     | Propiedades                                          | Acciones                                      |
| ---------- | ---------------------------------------------------- | --------------------------------------------- |
| gatos      | id, nombre, edad, sexo, raza, personalidad, cuidados | adoptar, obtener informe                      |
| perros     | id, nombre, edad, sexo, raza, personalidad, cuidados | adoptar, obtener informe                      |
| cuidadores | dni, nombre, edad, experiencia                       | asignar animal, desasignar animal             |
| gateras    | capacidad, interna/externa                           | introducir gato, sacar gato                   |
| perreras   | capacidad, interna/externa                           | introducir perro, sacar perro                 |
| edificios  | perreras, gateras                                    | incluir gatera/perrera, quitar gatera/perrera |

**üìñ Abstracci√≥n** 

> Proceso de extraer la informaci√≥n relevante para incluirla en nuestro programa. El conjunto de esta informaci√≥n suele llamarse dominio.
>

¬øPara que queremos informaci√≥n de los veh√≠culos? ¬øY la informaci√≥n de las medicinas? respecto a este ultimo aspecto podemos destacar la vacunas, pro incluirlas como propiedad de los animales.



## 3. Clases & Objetos

Vamos a representar estos objetos usando diagramas UML. De momento ver√°s muchos elementos que desconoces, a medida que avance la guia ir√°s aprendiendolos.

Cada caja es lo que se llaman clases, las cuales permiten instanciar/crear objetos.

üìñ **Clases**

> Plantillas que describen todas las caracter√≠sticas de los objetos. A partir de ellas se crean o instancian los objetos.

üìñ **Objetos**

> Entidad que representa un concepto de la realidad. 

üìñ **Instanciar**

> El proceso de crear objetos a partir de una clase.



## 4. Caracter√≠sticas

El mundo esta dominado por 3 cosas: Los gatos üê± los frikis üé≤ y Mercadona¬Æ üè™ Vamos a honrar a nuestros amos felinos creando objetos en Java. Creemos la clase Gato.

### 4.1. Constructor

```java
public class Gato {
    public Gato() { // Construtor de la clase
    }
}

Gato gato = new Gato(); // Instanciar objeto
```

Toda clase ha de tener un constructor para poder instanciar objetos

üìñ **Constructor**

> M√©todo de una clase que permite instanciar objetos. En Java los constructores cumple los siguientes:
>
> - Tiene el mismo nombre que la clase
> - No se indica el tipo que devuelve
> - Pueden haber varios usando la sobrecarga de m√©todo

### 4.2. Atributos

Vamos a√±adir las propiedades que en POO se denominan atributos

```java
public class Gato 
    public int id;
    public String nombre;
    public int edad;
    public char sexo;
    public String raza;
    public String personalidad;
    public String[] cuidados;
    
    public Gato() { 
    }
    
    public Gato(
        int id, 
        String nombre, 
        int edad,
        char sexo,
        String raza, 
        String personalidad, 
        String[] cuidados
    ) {
        this.id = id; 
        this.nombre = nombre;
        this.edad = edad;
        this.sexo = sexo;
        this.raza = raza;  
        this.personalidad = personalidad;
        this.cuidados = cuidados;
    }
}

String[] cuidados = {"Dieta baja en calor√≠as", "Ejercicio f√≠sico"}
Gato gato = new Gato(
	1,
    "Godzilla",
    12,
    'm',
    "Negro com√∫n",
    "Tranquilo",
    cuidados
)
```

üìñ **Atributos**

> Las propiedades de un objeto. Son variables 

### 4.3. M√©todos

Te has dado cuenta que hemos usado la palabra `this`. Si en una clase queremos acceder a un atributo o m√©todo de la misma usamos esta palabra. 

Es normal en Java incluir como constructores uno vacio y otro para inicializar todos los atributos. Usando la sobecarga de funciones podemos crear tantos como necesidades tengamos.

Bueno, la clase Gato no es solo un contenedor de atributos, tambi√©n tiene un comportamiento expresado a trav√©s de m√©todos.

```java
public class Gato {
    
    ...
    
    String propietario = "";
    
    public void adoptar(String nuevoPropietario) {
        if(propietario.isEmpty()) {
            this.propietario = nuevoPropietario;
        } else {
            System.out.println("El animal ya ha sido adoptado");
        }
    }
    
    public void getInforme() {
        System.out.println("Nombre: " + this.nombre);
        System.out.println("Edad: " + this.edad);
        System.out.println("Sexo: " + this.sexo);
        System.out.println("Raza: " + this.raza);
    }
    
}
```

üìñ **M√©todos / Operaciones**

> Las acciones que puede realizar el objeto. Se usan funciones para expresarlas.
>

### 4.4. Modificadores de Acceso

Te has dado cuenta que en el constructor, atributos y m√©todos se les antepone la palabra public. Esto se conoce como "modificadores de acceso" o visibilidad, permite indicar quienes pueden manipular dicho elementos una vez creado el objeto.

```java
public class AgenteSecreto {
    public String nombreFalso;
    private String nombreReal;
    
    public AgenteSecreto(
        String nombreFalso, 
        String nombreReal
    ){
        this.nombreFalso = nombreFalso;
        this.nombreReal = nombreReal;
    }
    
    public String getNombreReal() { 
        return this.nombreReal;
    }
}

AgenteSecreto agente = new AgenteSecreto("James Bond", "Eusebio Garc√≠a");
System.out.println(agente.nombreFalso);
System.out.println(agente.nombreReal); // Error de compilaci√≥n
System.out.println(agente.getNombreReal); 
// Las propiedades y m√©todos de la clase son las √∫nicas que acceden a las variables privadas
```

Tambi√©n observamos que la propia clase tiene una visibilidad, pero lo veremos m√°s adelante con la modularizaci√≥n con los namespace.

üìñ **Modificadores de Acceso / Visibilidad**

> Aspecto que tiene que tener todo atributo y m√©todo de una clase. Aunque depende bastante del lenguaje de programaci√≥n, normalmente las encontramos de 3 tipos:
>
> - **public:** Podemos acceder a ellos a trav√©s del objeto
> - **private:** Solo tiene acceso los m√±etodos y atributos de la misma clase
> - **protected:** Pueden acceder tanto la propia clase como aquellas si todas comparten el mismo namespace

‚òï **Java**

> Lo normal es crear todos los atributos como privados y que sean accesibles mediantes m√©todos get y set, popularmente referidos como los "setters" y los "getters". Normalmente se sigue este convencionalismo en la mayor√≠a de los lenguajes, pero recordemos que cada uno tiene sus peculiaridades.
>
> ```java
> public class AgenteSecreto {
>     private String nombreFalso;
>     private String nombreReal;
>     
>     public AgenteSecreto() {}
>     
>     public AgenteSecreto(
>         String nombreFalso, 
>         String nombreReal
>     ){
>         this.nombreFalso = nombreFalso;
>         this.nombreReal = nombreReal;
>     }
>     
>     public String getNombreFalso() { 
>         return this.nombreFalso;
>     }
>     
>     public String getNombreReal() { 
>         return this.nombreReal;
>     }
>     public void setNombreFalso(String nombreFalso) { 
>         this.nombreFalso = nombreFalso;
>     }
>     
>     public void setNombreReal(String nombreReal) { 
>         this.nombreReal = nombreReal;
>     }
> }
> ```
>



üñ•Ô∏è **Codificar**

> - Completar la clase Gato
> - Crear la clase Cuidador
> - Crear la clase Gatera

üé≤ **Ejercicios**

> - ¬øCu√°nto sabes de POO?
> - ¬øVerdad o mentira?



### 4.3. Conceptos

Tras tener unas nociones sobre los objetos vamos a profundizar un poco m√°s sobre su teor√≠a. Veamos que es la estado, identidad y comportamiento de un objeto:

üìñ **Estado**

> El valor de los atributos y variables internas de un objeto. √âste muta cada vez que se cambia alguno de sus valores.

üìñ **Identidad**

> Propiedad que permite a un objeto ser √∫nico, a pesar de que puedan tener el mismo estado.

üìñ **Comportamiento**

> Conjunto de acciones de un objeto, expresado a trav√©s de sus m√©todos.

```java
AgenteSecreto agente01 = new Agente("Motoko Kusanagi", "Rafaela L√≥pez");
AgenteSecreto agente02 = new Agente();

agente02.setNombreFalso("Ethan Hunt");
agente02.getNombreReal("Demetrio P√©rez");
// Hemos cambiado 2 veces el estado del agente02

agente02.setNombreFalso("Motoko Kusanagi");
agente02.getNombreReal("Rafaela L√≥pez");
// Hemos cambiado de nuevo el estado del agente02
// Tiene le mismo estado que el agente01

if(agente01 === agente02){
    System.out.println("Tienen la misma identidad");
} else {
    System.out.println("Las identidades son distintas"); 
}
// Sin embargo poseen la misma identidad
// El mensaje por pantalla es: "Las identidades son distintas"
```

¬øQue ocurre al comprara 2 objetos? En realidad la variable de un objeto guarda lo que se conoce como "referencia". Cada variable tiene un espacio en la memoria del ordenador donde se almacena su valor. Si tenemos la variable int num = 3, cuando accedemos a ellas recupera el valor que tiene en memoria que es el 3. Con los objetos lo que recuperamos es la posic√≥n en memoria, la direcci√≥n en memoria donde est√° albergado el objeto. Tambi√©n pasa lo mismo con los vectores.

img

üìñ **Referencia**

> Valor que hace referencia a una direcci√≥n o posici√≥n en la memoria del equipo. Si vamos a ese lugar encontraremos toda la informaci√≥n de la variables. Normalmente los vectores y objetos almacenan como valor una referencia.

M√°s adelante veremos otros conceptos te√≥ricos m√°s avanzados como el polimorfismo y la herencia. Como ya sab√©is Roma no se construy√≥ en un d√≠a y poca a poco, gracias a ejemplos y ejercicios nos convertiremos en maestros ;)



üé≤ **Ejercicios**

> - Estado - Identidad - Comportamiento



## 6. POO como Paradigma

Vamos a ponernos serios definiendo la POO.

üìñ **Programaci√≥n Orientada a Objetos**

> Paradigma de programaci√≥n que trabaja con un conjunto de entidades llamadas objetos.
>
> - Representan elementos o conceptos del mundo real.
> - Para crearlos necesitamos definir una clase, que es una plantilla de la que parten todos.
> - Cada uno posee un conjunto de atributos y acciones.
> - Los atributos son variables internas del objeto. Su conjunto se llama estado.
> - Las acciones son m√©todos, otorga al objeto un comportamiento.
> - Cada objeto es √∫nico, poseen una identidad propia.
> - Los objetos se relacionan entre ellos. A trav√©s de sus acciones env√≠an mensajes.
> - Pueden crearse jerarqu√≠as de clases para compartir o extender el comportamiento.

Vemos en al definici√≥n 2 conceptos que no hab√≠amos visto antes, las relaciones y la herencia. En los siguientes temas se ver√°n en detalle ya que son 2 temas que tienen bastante miga.

---



üñ•Ô∏è **Codificar**

> - Crear la clase Perro
> - Crear la clase Perrera
> - Crear la clase Edificio
> - Modelar Centro Geri√°trico
>

üé≤ **Ejercicios**

> - Verdadero o falso
>
> - Test para comprobar conocmientos sobre el tema
>

